{"version":3,"file":"app.js","sources":["webpack:///webpack/bootstrap 34bfdb15ca72d7473fde","webpack:///./public/js/main.js","webpack:///./public/js/modules/auth.js","webpack:///./public/js/modules/test.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 34bfdb15ca72d7473fde\n **/","'use strict';\n\n$('.login__form').addClass('load');\n$('.login__title').addClass('load-title');\n\nvar auth = require('./modules/auth.js');\nrequire('./modules/test.js');\nconsole.log(auth);\n// $(\"#auth-btn\").click(function(e) {\n//   e.preventDefault();\n//   $('.login__form').removeClass('load');\n//   $('.login__title').removeClass('load-title');\n//   $('.registration__form').addClass('load');\n//   $('.registration__title').addClass('load-title');\n// });\n\n// $(\"#signin-btn\").click(function(e) {\n//   e.preventDefault();\n//   $('.login__form').addClass('load');\n//   $('.login__title').addClass('load-title');\n//   $('.registration__form').removeClass('load');\n//   $('.registration__title').removeClass('load-title');\n// });\n\n// var flip = document.getElementsByClassName('flip');\n// var elem = flip[0];\n// elem.addEventListener('click', function(e) {\n//   elem.classList.toggle('flipping');\n// });\n\n// $('.auth-btn').click(function(e) {\n//   e.preventDefault();\n\n// });\n\nvar Flip = function () {\n  function init() {\n    _setUpListners();\n  };\n\n  function _setUpListners() {\n    $('#auth-btn').on('click', _formFlip);\n    $('#signin-btn').on('click', _formFlip);\n  };\n\n  var _formFlip = function _formFlip(e) {\n    e.preventDefault();\n    var flip = $('.flip');\n    flip.toggleClass('flipping');\n  };\n\n  return {\n    init: init\n  };\n}();\n\nFlip.init();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/js/main.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nvar Auth = function () {\n\n  function init() {\n    _setUpListners();\n  };\n\n  function _setUpListners() {\n    $('#reg_btn').on('click', _setRegistration);\n    $('#login_btn').on('click', _setLogin);\n    $('#forget_btn').on('click', _setForget);\n  };\n\n  var _errorMessage = function _errorMessage(elem, msg) {\n    var m = '<div class=\"form__error\"><span class=\"error_text\">' + msg + '</span></div>';\n    elem.before(m);\n    elem.prop('disabled', true);\n    setTimeout(function () {\n      $('.form__error').slideUp('2000', function () {\n        $('.form__error').remove();\n        elem.prop('disabled', false);\n      });\n    }, 1000);\n  };\n\n  var _isEmail = function _isEmail(email) {\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    return regex.test(email);\n  };\n\n  var _replaceSpace = function _replaceSpace(value) {\n    var reg_pusto = value.replace(/[\\s{2,}]+/g, ' ');\n    if (reg_pusto === '' || reg_pusto === ' ') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  function _validateRegistrationForm() {\n    var $this = $(this),\n        form = $('#registration__form'),\n        name = form.find('#registration_name'),\n        email = form.find('#registration_mail'),\n        password = form.find('#registration_password'),\n        obj = {};\n\n    var validEmail = _isEmail(email.val());\n\n    if (_replaceSpace(name.val()) || _replaceSpace(email.val()) || _replaceSpace(password.val())) {\n      obj.valid = false;\n      obj.message = \"Вы заполнили не все поля\";\n      return obj;\n    }\n    if (!validEmail) {\n      obj.valid = false;\n      obj.message = \"Введите корректный Email\";\n      return obj;\n    }\n    if (password.val().length < 8) {\n      obj.valid = false;\n      obj.message = \"Пароль должен быть больше 8 символов\";\n      return obj;\n    }\n\n    return true;\n  }\n\n  function _validateLoginForm() {\n    var $this = $(this),\n        form = $('#login__form'),\n        email = form.find('#login_mail'),\n        password = form.find('#login__password'),\n        obj = {};\n\n    var validEmail = _isEmail(email.val());\n\n    if (_replaceSpace(email.val()) || _replaceSpace(password.val())) {\n      obj.valid = false;\n      obj.message = \"Вы заполнили не все поля\";\n      return obj;\n    }\n    if (!validEmail) {\n      obj.valid = false;\n      obj.message = \"Введите корректный Email\";\n      return obj;\n    }\n\n    return true;\n  }\n\n  function _validateForgetForm() {\n    var $this = $(this),\n        form = $('#forget__login'),\n        email = form.find('#forget_mail'),\n        obj = {};\n\n    var validEmail = _isEmail(email.val());\n\n    if (_replaceSpace(email.val())) {\n      obj.valid = false;\n      obj.message = \"Вы заполнили не все поля\";\n      return obj;\n    }\n    if (!validEmail) {\n      obj.valid = false;\n      obj.message = \"Введите корректный Email\";\n      return obj;\n    }\n\n    return true;\n  }\n\n  var _setLogin = function _setLogin(e) {\n    e.preventDefault();\n    var $this = $(this),\n        form = $('#login__form'),\n        data = form.serialize(),\n\n    // dataArray = form.serializeArray(),\n    // email = dataArray[0].value,\n    result = _validateLoginForm();\n    if (result === true) {\n      $.ajax({\n        url: '/auth',\n        type: 'POST',\n        dataType: 'json',\n        data: data\n      }).fail(function (data) {\n        var statusCode = data.status;\n        if (statusCode == 200) {\n\n          localStorage.setItem('token', data.responseText);\n          form[0].reset();\n          window.location.href = '/';\n        } else if (statusCode > 200) {\n          _errorMessage($this, data.responseText);\n        }\n      });\n    } else {\n      _errorMessage($this, result['message']);\n    }\n  };\n\n  var _setRegistration = function _setRegistration(e) {\n    e.preventDefault();\n\n    var $this = $(this),\n        form = $('#registration__form'),\n        data = form.serialize(),\n        result = _validateRegistrationForm();\n\n    if (result === true) {\n      $.ajax({\n        url: '/registration',\n        type: 'POST',\n        dataType: 'json',\n        data: data\n      }).fail(function (data) {\n        var statusCode = data.status;\n        if (statusCode == 200) {\n          _errorMessage($this, data.responseText);\n          form[0].reset();\n        } else if (statusCode > 200) {\n          _errorMessage($this, data.responseText);\n        }\n      });\n    } else {\n      _errorMessage($this, result['message']);\n    }\n  };\n\n  var _setForget = function _setForget(e) {\n    e.preventDefault();\n\n    var $this = $(this),\n        form = $('#forget__login'),\n        data = form.serialize(),\n        result = _validateForgetForm();\n\n    if (result === true) {\n      $.ajax({\n        url: '/forget',\n        type: 'POST',\n        dataType: 'json',\n        data: data\n      }).fail(function (data) {\n        var statusCode = data.status;\n        if (statusCode == 200) {\n          window.location.href = '/';\n        } else if (statusCode > 200) {\n          _errorMessage($this, data.responseText);\n        }\n      });\n    } else {\n      _errorMessage($this, result['message']);\n    };\n  };\n\n  return {\n    init: init\n  };\n}();\n\nAuth.init();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/js/modules/auth.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nconsole.log('hi, i am a module');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/js/modules/test.js\n ** module id = 3\n ** module chunks = 0\n **/"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7MA;AACA;AACA;;;","sourceRoot":""}